{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PHT\\\\OneDrive\\\\laptrinhungdungnangcao\\\\gk\\\\frontend_shop-web-master\\\\frontend_shop-web-master\\\\src\\\\pages\\\\ProductPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { FiStar, FiHeart, FiShare2, FiMinus, FiPlus, FiTruck } from 'react-icons/fi';\nimport axios from 'axios';\nimport AddToCartButton from '../components/AddToCartButton';\nimport ProductReviews from '../components/ProductReviews';\nimport ProductCard from '../components/ProductCard';\nimport { useCart } from '../contexts/CartContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [product, setProduct] = useState(null);\n  const [relatedProducts, setRelatedProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [mainImage, setMainImage] = useState('');\n  const [quantity, setQuantity] = useState(1);\n  const [selectedSize, setSelectedSize] = useState(null);\n  const [selectedColor, setSelectedColor] = useState(null);\n  const {\n    addToCart\n  } = useCart();\n  useEffect(() => {\n    fetchProductDetails();\n  }, [id]);\n  const fetchProductDetails = async () => {\n    setLoading(true);\n    try {\n      var _productData$category, _productData$seller, _productData$seller$b, _productData$category2;\n      // Gọi API để lấy chi tiết sản phẩm\n      const response = await axios.get(`http://localhost:8080/products/${id}`);\n      const productData = response.data;\n\n      // Set selected size và color mặc định\n      if (productData.sizes) {\n        const sizeArray = productData.sizes.split(',').map(size => size.trim());\n        setSelectedSize(sizeArray[0]);\n      }\n      if (productData.color) {\n        setSelectedColor(productData.color);\n      }\n\n      // Xử lý dữ liệu sản phẩm\n      const transformedProduct = {\n        id: productData.id,\n        name: productData.title,\n        price: productData.sellingPrice,\n        originalPrice: productData.price > productData.sellingPrice ? productData.price : null,\n        discount: productData.discountPercent || 0,\n        rating: productData.reviews && productData.reviews.length > 0 ? productData.reviews.reduce((sum, review) => sum + review.rating, 0) / productData.reviews.length : 0,\n        reviewCount: productData.reviews ? productData.reviews.length : 0,\n        sold: Math.floor(Math.random() * 1000) + 100,\n        // Giả lập số lượng đã bán\n        description: productData.description || 'Không có mô tả chi tiết.',\n        images: productData.images && productData.images.length > 0 ? productData.images : ['https://via.placeholder.com/600x400?text=No+Image'],\n        sizes: productData.sizes ? productData.sizes.split(',').map(size => size.trim()) : ['M'],\n        colors: [{\n          name: productData.color || 'Mặc định',\n          value: getColorHexCode(productData.color),\n          border: true\n        }],\n        specs: [{\n          name: 'Chất liệu',\n          value: 'Cotton'\n        }, {\n          name: 'Xuất xứ',\n          value: 'Việt Nam'\n        }, {\n          name: 'Phù hợp',\n          value: (_productData$category = productData.category) !== null && _productData$category !== void 0 && _productData$category.categoryId.includes('men') ? 'Nam' : 'Nữ'\n        }, {\n          name: 'Nhà cung cấp',\n          value: ((_productData$seller = productData.seller) === null || _productData$seller === void 0 ? void 0 : _productData$seller.sellerName) || 'Không xác định'\n        }],\n        stock: productData.quantity || 10,\n        estimatedDelivery: '3-5 ngày',\n        reviews: transformReviews(productData.reviews),\n        seller: productData.seller ? {\n          id: productData.seller.id,\n          name: productData.seller.sellerName,\n          businessName: (_productData$seller$b = productData.seller.businessDetails) === null || _productData$seller$b === void 0 ? void 0 : _productData$seller$b.businessName\n        } : null\n      };\n      setProduct(transformedProduct);\n      if (transformedProduct.images && transformedProduct.images.length > 0) {\n        setMainImage(transformedProduct.images[0]);\n      }\n\n      // Lấy sản phẩm liên quan\n      fetchRelatedProducts((_productData$category2 = productData.category) === null || _productData$category2 === void 0 ? void 0 : _productData$category2.categoryId);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching product details:', error);\n      setLoading(false);\n    }\n  };\n\n  // Hàm chuyển đổi tên màu thành mã hex - cập nhật thêm màu\n  const getColorHexCode = colorName => {\n    if (!colorName) return '#888888';\n    const colorMap = {\n      'Red': '#ff0000',\n      'Green': '#00ff00',\n      'Blue': '#0000ff',\n      'Black': '#000000',\n      'White': '#ffffff',\n      'Gray': '#888888',\n      'Orange': '#ffa500',\n      'Yellow': '#ffff00',\n      'Purple': '#800080',\n      'Pink': '#ffc0cb',\n      'Brown': '#a52a2a',\n      'Teal': '#008080',\n      'Đen': '#000000',\n      'Trắng': '#ffffff',\n      'Đỏ': '#ff0000',\n      'Xanh lá': '#00ff00',\n      'Xanh dương': '#0000ff',\n      'xanh': '#4A6EA9',\n      'Xanh': '#add8e6',\n      'Vàng': '#ffff00',\n      'Cam': '#ffa500',\n      'Tím': '#800080',\n      'Hồng': '#ffc0cb',\n      'Nâu': '#a52a2a',\n      'Xám': '#888888',\n      'Xanh ngọc': '#008080'\n    };\n    return colorMap[colorName] || '#888888';\n  };\n  const fetchRelatedProducts = async categoryId => {\n    if (!categoryId) return;\n    try {\n      // Gọi API lấy sản phẩm cùng danh mục\n      const response = await axios.get(`http://localhost:8080/products?category=${categoryId}&size=4`);\n      const data = response.data;\n\n      // Biến đổi dữ liệu\n      const transformedProducts = data.content.filter(product => product.id !== parseInt(id)) // Loại bỏ sản phẩm hiện tại\n      .slice(0, 4) // Giới hạn tối đa 4 sản phẩm\n      .map(product => ({\n        id: product.id,\n        name: product.title,\n        price: product.sellingPrice,\n        originalPrice: product.price > product.sellingPrice ? product.price : null,\n        image: product.images && product.images.length > 0 ? product.images[0] : null,\n        rating: product.reviews && product.reviews.length > 0 ? product.reviews.reduce((sum, review) => sum + review.rating, 0) / product.reviews.length : 4.5,\n        sold: Math.floor(Math.random() * 1000) + 100\n      }));\n      setRelatedProducts(transformedProducts);\n    } catch (error) {\n      console.error('Error fetching related products:', error);\n    }\n  };\n\n  // Hàm chuyển đổi reviews từ API sang định dạng hiển thị\n  const transformReviews = apiReviews => {\n    if (!apiReviews || !Array.isArray(apiReviews)) return [];\n    return apiReviews.map(review => {\n      var _review$user;\n      return {\n        username: ((_review$user = review.user) === null || _review$user === void 0 ? void 0 : _review$user.fullName) || 'Khách hàng ẩn danh',\n        date: formatDate(review.createdAt),\n        rating: review.rating,\n        content: review.reviewText || 'Không có nội dung đánh giá.',\n        images: review.productImages || []\n      };\n    });\n  };\n\n  // Hàm format ngày tháng\n  const formatDate = dateString => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;\n  };\n  const increaseQuantity = () => {\n    if (product && quantity < product.stock) {\n      setQuantity(quantity + 1);\n    }\n  };\n  const decreaseQuantity = () => {\n    if (quantity > 1) {\n      setQuantity(quantity - 1);\n    }\n  };\n\n  // Thêm hàm xử lý mua ngay\n  const handleBuyNow = () => {\n    if (!selectedSize || !selectedColor) {\n      alert('Vui lòng chọn kích thước và màu sắc');\n      return;\n    }\n    addToCart({\n      id: product.id,\n      name: product.name,\n      price: product.price,\n      originalPrice: product.originalPrice,\n      image: product.images[0]\n    }, quantity, selectedSize, selectedColor);\n\n    // Chuyển hướng đến trang giỏ hàng\n    window.location.href = '/cart';\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-12 flex justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }, this);\n  }\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-12 text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-red-500\",\n        children: \"S\\u1EA3n ph\\u1EA9m kh\\xF4ng t\\u1ED3n t\\u1EA1i!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-sm breadcrumbs mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"flex space-x-2 text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            className: \"hover:text-primary\",\n            children: \"Trang ch\\u1EE7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/products\",\n            className: \"hover:text-primary\",\n            children: \"S\\u1EA3n ph\\u1EA9m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"text-gray-800 font-medium\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 border border-gray-200 rounded-md overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: mainImage,\n            alt: product.name,\n            className: \"w-full h-auto object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-4 gap-2\",\n          children: product.images.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `border rounded-md overflow-hidden cursor-pointer ${mainImage === image ? 'border-primary' : 'border-gray-200'}`,\n            onClick: () => setMainImage(image),\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: image,\n              alt: `${product.name} - image ${index + 1}`,\n              className: \"w-full h-24 object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 33\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold mb-2\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mr-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-primary mr-1\",\n              children: product.rating.toFixed(1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex\",\n              children: [1, 2, 3, 4, 5].map(star => /*#__PURE__*/_jsxDEV(FiStar, {\n                className: `${star <= Math.round(product.rating) ? 'text-yellow-400 fill-current' : 'text-gray-300'}`,\n                size: 16\n              }, star, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500 mr-4\",\n            children: [product.reviewCount, \" \\u0111\\xE1nh gi\\xE1\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500\",\n            children: [product.sold, \" \\u0111\\xE3 b\\xE1n\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 mb-6 rounded-md\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-baseline\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-3xl text-primary font-bold\",\n              children: [product.price.toLocaleString(), \"\\u0111\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 29\n            }, this), product.originalPrice && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 text-gray-400 line-through\",\n                children: [product.originalPrice.toLocaleString(), \"\\u0111\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 bg-primary text-white px-2 py-1 text-xs rounded-md\",\n                children: [\"-\", product.discount, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium mb-2\",\n            children: \"K\\xEDch th\\u01B0\\u1EDBc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2\",\n            children: product.sizes.map(size => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `w-10 h-10 flex items-center justify-center border ${selectedSize === size ? 'bg-primary text-white border-primary' : 'border-gray-300 hover:border-primary'} rounded`,\n              onClick: () => setSelectedSize(size),\n              children: size\n            }, size, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium mb-2\",\n            children: \"M\\xE0u s\\u1EAFc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-3\",\n            children: product.colors.map((color, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `w-8 h-8 rounded-full ${selectedColor === color.name ? 'ring-2 ring-primary' : ''}`,\n              style: {\n                backgroundColor: color.value,\n                border: color.border ? '1px solid #d1d5db' : 'none',\n                ...(selectedColor === color.name && {\n                  boxShadow: `0 0 0 2px ${color.value}`\n                })\n              },\n              onClick: () => setSelectedColor(color.name),\n              title: color.name\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium mb-2\",\n            children: \"S\\u1ED1 l\\u01B0\\u1EE3ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-8 h-8 border border-gray-300 flex items-center justify-center rounded-l hover:bg-gray-100\",\n              onClick: decreaseQuantity,\n              children: /*#__PURE__*/_jsxDEV(FiMinus, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: quantity,\n              onChange: e => {\n                const val = parseInt(e.target.value);\n                if (!isNaN(val) && val > 0 && val <= product.stock) {\n                  setQuantity(val);\n                }\n              },\n              className: \"w-14 h-8 border-t border-b border-gray-300 text-center\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-8 h-8 border border-gray-300 flex items-center justify-center rounded-r hover:bg-gray-100\",\n              onClick: increaseQuantity,\n              children: /*#__PURE__*/_jsxDEV(FiPlus, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-4 text-gray-500\",\n              children: [product.stock, \" s\\u1EA3n ph\\u1EA9m c\\xF3 s\\u1EB5n\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 flex space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(AddToCartButton, {\n            product: {\n              id: product.id,\n              name: product.name,\n              price: product.price,\n              originalPrice: product.originalPrice,\n              image: product.images[0]\n            },\n            quantity: quantity,\n            size: selectedSize,\n            color: selectedColor,\n            className: \"flex-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleBuyNow,\n            className: \"flex-1 flex items-center justify-center px-4 py-2 bg-orange-600 text-white rounded font-medium hover:bg-orange-700 transition\",\n            children: \"Mua ngay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-6 text-gray-500 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"flex items-center hover:text-primary\",\n            children: [/*#__PURE__*/_jsxDEV(FiHeart, {\n              className: \"mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Y\\xEAu th\\xEDch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"flex items-center hover:text-primary\",\n            children: [/*#__PURE__*/_jsxDEV(FiShare2, {\n              className: \"mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Chia s\\u1EBB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 rounded-md mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start\",\n            children: [/*#__PURE__*/_jsxDEV(FiTruck, {\n              className: \"mt-1 mr-3 text-primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium\",\n                children: \"Th\\u1EDDi gian giao h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"\\u01AF\\u1EDBc t\\xEDnh \", product.estimatedDelivery, \" sau khi \\u0111\\u1EB7t h\\xE0ng\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t pt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-medium mb-3\",\n            children: \"Th\\xF4ng s\\u1ED1 s\\u1EA3n ph\\u1EA9m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full text-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: product.specs.map((spec, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: index % 2 === 0 ? 'bg-gray-50' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-3 font-medium\",\n                  children: spec.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-3\",\n                  children: spec.value\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 41\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-12 border-t pt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-4\",\n        children: \"M\\xF4 t\\u1EA3 s\\u1EA3n ph\\u1EA9m\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-700 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0110\\u1EB7c \\u0111i\\u1EC3m n\\u1ED5i b\\u1EADt:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc pl-5 space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Ch\\u1EA5t li\\u1EC7u cao c\\u1EA5p, m\\u1EC1m m\\u1EA1i, tho\\xE1ng m\\xE1t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Form d\\xE1ng tho\\u1EA3i m\\xE1i, ph\\xF9 h\\u1EE3p m\\u1ECDi v\\xF3c d\\xE1ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Thi\\u1EBFt k\\u1EBF hi\\u1EC7n \\u0111\\u1EA1i, d\\u1EC5 ph\\u1ED1i \\u0111\\u1ED3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u0110\\u01B0\\u1EDDng may t\\u1EC9 m\\u1EC9, ch\\u1EAFc ch\\u1EAFn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"C\\xF3 nhi\\u1EC1u size v\\xE0 m\\xE0u s\\u1EAFc \\u0111\\u1EC3 l\\u1EF1a ch\\u1ECDn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"H\\u01B0\\u1EDBng d\\u1EABn b\\u1EA3o qu\\u1EA3n:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc pl-5 space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Gi\\u1EB7t m\\xE1y \\u1EDF nhi\\u1EC7t \\u0111\\u1ED9 th\\u1EA5p ho\\u1EB7c gi\\u1EB7t tay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Kh\\xF4ng d\\xF9ng ch\\u1EA5t t\\u1EA9y m\\u1EA1nh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Ph\\u01A1i trong b\\xF3ng r\\xE2m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"L\\xE0 \\u1EE7i \\u1EDF nhi\\u1EC7t \\u0111\\u1ED9 th\\u1EA5p\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProductReviews, {\n      reviews: product.reviews\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 13\n    }, this), relatedProducts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-12 border-t pt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-6\",\n        children: \"S\\u1EA3n ph\\u1EA9m t\\u01B0\\u01A1ng t\\u1EF1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n        children: relatedProducts.map(relatedProduct => /*#__PURE__*/_jsxDEV(ProductCard, {\n          product: relatedProduct\n        }, relatedProduct.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductPage, \"0n+Mvmtd8vQ8u5GEyFCUX9TY1CY=\", false, function () {\n  return [useParams, useCart];\n});\n_c = ProductPage;\nexport default ProductPage;\nvar _c;\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","FiStar","FiHeart","FiShare2","FiMinus","FiPlus","FiTruck","axios","AddToCartButton","ProductReviews","ProductCard","useCart","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductPage","_s","id","product","setProduct","relatedProducts","setRelatedProducts","loading","setLoading","mainImage","setMainImage","quantity","setQuantity","selectedSize","setSelectedSize","selectedColor","setSelectedColor","addToCart","fetchProductDetails","_productData$category","_productData$seller","_productData$seller$b","_productData$category2","response","get","productData","data","sizes","sizeArray","split","map","size","trim","color","transformedProduct","name","title","price","sellingPrice","originalPrice","discount","discountPercent","rating","reviews","length","reduce","sum","review","reviewCount","sold","Math","floor","random","description","images","colors","value","getColorHexCode","border","specs","category","categoryId","includes","seller","sellerName","stock","estimatedDelivery","transformReviews","businessName","businessDetails","fetchRelatedProducts","error","console","colorName","colorMap","transformedProducts","content","filter","parseInt","slice","image","apiReviews","Array","isArray","_review$user","username","user","fullName","date","formatDate","createdAt","reviewText","productImages","dateString","Date","getDate","getMonth","getFullYear","increaseQuantity","decreaseQuantity","handleBuyNow","alert","window","location","href","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","src","alt","index","onClick","toFixed","star","round","toLocaleString","style","backgroundColor","boxShadow","type","onChange","e","val","target","isNaN","spec","relatedProduct","_c","$RefreshReg$"],"sources":["C:/Users/PHT/OneDrive/laptrinhungdungnangcao/gk/frontend_shop-web-master/frontend_shop-web-master/src/pages/ProductPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { FiStar, FiHeart, FiShare2, FiMinus, FiPlus, FiTruck } from 'react-icons/fi';\nimport axios from 'axios';\nimport AddToCartButton from '../components/AddToCartButton';\nimport ProductReviews from '../components/ProductReviews';\nimport ProductCard from '../components/ProductCard';\nimport { useCart } from '../contexts/CartContext';\n\nconst ProductPage = () => {\n    const { id } = useParams();\n    const [product, setProduct] = useState(null);\n    const [relatedProducts, setRelatedProducts] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [mainImage, setMainImage] = useState('');\n    const [quantity, setQuantity] = useState(1);\n    const [selectedSize, setSelectedSize] = useState(null);\n    const [selectedColor, setSelectedColor] = useState(null);\n    const { addToCart } = useCart();\n\n    useEffect(() => {\n        fetchProductDetails();\n    }, [id]);\n\n    const fetchProductDetails = async () => {\n        setLoading(true);\n        try {\n            // Gọi API để lấy chi tiết sản phẩm\n            const response = await axios.get(`http://localhost:8080/products/${id}`);\n            const productData = response.data;\n            \n            // Set selected size và color mặc định\n            if (productData.sizes) {\n                const sizeArray = productData.sizes.split(',').map(size => size.trim());\n                setSelectedSize(sizeArray[0]);\n            }\n            \n            if (productData.color) {\n                setSelectedColor(productData.color);\n            }\n            \n            // Xử lý dữ liệu sản phẩm\n            const transformedProduct = {\n                id: productData.id,\n                name: productData.title,\n                price: productData.sellingPrice,\n                originalPrice: productData.price > productData.sellingPrice ? productData.price : null,\n                discount: productData.discountPercent || 0,\n                rating: productData.reviews && productData.reviews.length > 0 \n                    ? productData.reviews.reduce((sum, review) => sum + review.rating, 0) / productData.reviews.length \n                    : 0,\n                reviewCount: productData.reviews ? productData.reviews.length : 0,\n                sold: Math.floor(Math.random() * 1000) + 100, // Giả lập số lượng đã bán\n                description: productData.description || 'Không có mô tả chi tiết.',\n                images: productData.images && productData.images.length > 0 \n                    ? productData.images \n                    : ['https://via.placeholder.com/600x400?text=No+Image'],\n                sizes: productData.sizes ? productData.sizes.split(',').map(size => size.trim()) : ['M'],\n                colors: [\n                    { name: productData.color || 'Mặc định', value: getColorHexCode(productData.color), border: true }\n                ],\n                specs: [\n                    { name: 'Chất liệu', value: 'Cotton' },\n                    { name: 'Xuất xứ', value: 'Việt Nam' },\n                    { name: 'Phù hợp', value: productData.category?.categoryId.includes('men') ? 'Nam' : 'Nữ' },\n                    { name: 'Nhà cung cấp', value: productData.seller?.sellerName || 'Không xác định' }\n                ],\n                stock: productData.quantity || 10,\n                estimatedDelivery: '3-5 ngày',\n                reviews: transformReviews(productData.reviews),\n                seller: productData.seller ? {\n                    id: productData.seller.id,\n                    name: productData.seller.sellerName,\n                    businessName: productData.seller.businessDetails?.businessName\n                } : null\n            };\n            \n            setProduct(transformedProduct);\n            if (transformedProduct.images && transformedProduct.images.length > 0) {\n                setMainImage(transformedProduct.images[0]);\n            }\n            \n            // Lấy sản phẩm liên quan\n            fetchRelatedProducts(productData.category?.categoryId);\n            \n            setLoading(false);\n        } catch (error) {\n            console.error('Error fetching product details:', error);\n            setLoading(false);\n        }\n    };\n    \n    // Hàm chuyển đổi tên màu thành mã hex - cập nhật thêm màu\n    const getColorHexCode = (colorName) => {\n        if (!colorName) return '#888888';\n        \n        const colorMap = {\n            'Red': '#ff0000',\n            'Green': '#00ff00',\n            'Blue': '#0000ff',\n            'Black': '#000000',\n            'White': '#ffffff',\n            'Gray': '#888888',\n            'Orange': '#ffa500',\n            'Yellow': '#ffff00',\n            'Purple': '#800080',\n            'Pink': '#ffc0cb',\n            'Brown': '#a52a2a',\n            'Teal': '#008080',\n            'Đen': '#000000',\n            'Trắng': '#ffffff',\n            'Đỏ': '#ff0000',\n            'Xanh lá': '#00ff00',\n            'Xanh dương': '#0000ff',\n            'xanh': '#4A6EA9',    \n            'Xanh': '#add8e6',\n            'Vàng': '#ffff00',\n            'Cam': '#ffa500',\n            'Tím': '#800080',\n            'Hồng': '#ffc0cb',\n            'Nâu': '#a52a2a',\n            'Xám': '#888888',\n            'Xanh ngọc': '#008080'\n        };\n        \n        return colorMap[colorName] || '#888888';\n    };\n    \n    const fetchRelatedProducts = async (categoryId) => {\n        if (!categoryId) return;\n        \n        try {\n            // Gọi API lấy sản phẩm cùng danh mục\n            const response = await axios.get(`http://localhost:8080/products?category=${categoryId}&size=4`);\n            const data = response.data;\n            \n            // Biến đổi dữ liệu\n            const transformedProducts = data.content\n                .filter(product => product.id !== parseInt(id)) // Loại bỏ sản phẩm hiện tại\n                .slice(0, 4) // Giới hạn tối đa 4 sản phẩm\n                .map(product => ({\n                    id: product.id,\n                    name: product.title,\n                    price: product.sellingPrice,\n                    originalPrice: product.price > product.sellingPrice ? product.price : null,\n                    image: product.images && product.images.length > 0 ? product.images[0] : null,\n                    rating: product.reviews && product.reviews.length > 0 \n                        ? product.reviews.reduce((sum, review) => sum + review.rating, 0) / product.reviews.length \n                        : 4.5,\n                    sold: Math.floor(Math.random() * 1000) + 100\n                }));\n            \n            setRelatedProducts(transformedProducts);\n        } catch (error) {\n            console.error('Error fetching related products:', error);\n        }\n    };\n    \n    // Hàm chuyển đổi reviews từ API sang định dạng hiển thị\n    const transformReviews = (apiReviews) => {\n        if (!apiReviews || !Array.isArray(apiReviews)) return [];\n        \n        return apiReviews.map(review => ({\n            username: review.user?.fullName || 'Khách hàng ẩn danh',\n            date: formatDate(review.createdAt),\n            rating: review.rating,\n            content: review.reviewText || 'Không có nội dung đánh giá.',\n            images: review.productImages || []\n        }));\n    };\n    \n    // Hàm format ngày tháng\n    const formatDate = (dateString) => {\n        if (!dateString) return '';\n        \n        const date = new Date(dateString);\n        return `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;\n    };\n\n    const increaseQuantity = () => {\n        if (product && quantity < product.stock) {\n            setQuantity(quantity + 1);\n        }\n    };\n\n    const decreaseQuantity = () => {\n        if (quantity > 1) {\n            setQuantity(quantity - 1);\n        }\n    };\n\n    // Thêm hàm xử lý mua ngay\n    const handleBuyNow = () => {\n        if (!selectedSize || !selectedColor) {\n            alert('Vui lòng chọn kích thước và màu sắc');\n            return;\n        }\n\n        addToCart(\n            {\n                id: product.id,\n                name: product.name,\n                price: product.price,\n                originalPrice: product.originalPrice,\n                image: product.images[0]\n            },\n            quantity,\n            selectedSize,\n            selectedColor\n        );\n\n        // Chuyển hướng đến trang giỏ hàng\n        window.location.href = '/cart';\n    };\n\n    if (loading) {\n        return (\n            <div className=\"container mx-auto px-4 py-12 flex justify-center\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"></div>\n            </div>\n        );\n    }\n\n    if (!product) {\n        return (\n            <div className=\"container mx-auto px-4 py-12 text-center\">\n                <h2 className=\"text-2xl font-bold text-red-500\">Sản phẩm không tồn tại!</h2>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"container mx-auto px-4 py-8\">\n            {/* Breadcrumbs */}\n            <div className=\"text-sm breadcrumbs mb-6\">\n                <ul className=\"flex space-x-2 text-gray-500\">\n                    <li><Link to=\"/\" className=\"hover:text-primary\">Trang chủ</Link></li>\n                    <li>/</li>\n                    <li><Link to=\"/products\" className=\"hover:text-primary\">Sản phẩm</Link></li>\n                    <li>/</li>\n                    <li className=\"text-gray-800 font-medium\">{product.name}</li>\n                </ul>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                {/* Product images */}\n                <div>\n                    {/* Main image */}\n                    <div className=\"mb-4 border border-gray-200 rounded-md overflow-hidden\">\n                        <img\n                            src={mainImage}\n                            alt={product.name}\n                            className=\"w-full h-auto object-cover\"\n                        />\n                    </div>\n\n                    {/* Thumbnail images */}\n                    <div className=\"grid grid-cols-4 gap-2\">\n                        {product.images.map((image, index) => (\n                            <div\n                                key={index}\n                                className={`border rounded-md overflow-hidden cursor-pointer ${mainImage === image ? 'border-primary' : 'border-gray-200'}`}\n                                onClick={() => setMainImage(image)}\n                            >\n                                <img\n                                    src={image}\n                                    alt={`${product.name} - image ${index + 1}`}\n                                    className=\"w-full h-24 object-cover\"\n                                />\n                            </div>\n                        ))}\n                    </div>\n                </div>\n\n                {/* Product details */}\n                <div>\n                    <h1 className=\"text-2xl font-bold mb-2\">{product.name}</h1>\n\n                    {/* Product rating */}\n                    <div className=\"flex items-center mb-4\">\n                        <div className=\"flex items-center mr-4\">\n                            <span className=\"text-lg font-semibold text-primary mr-1\">{product.rating.toFixed(1)}</span>\n                            <div className=\"flex\">\n                                {[1, 2, 3, 4, 5].map(star => (\n                                    <FiStar\n                                        key={star}\n                                        className={`${star <= Math.round(product.rating) ? 'text-yellow-400 fill-current' : 'text-gray-300'}`}\n                                        size={16}\n                                    />\n                                ))}\n                            </div>\n                        </div>\n                        <span className=\"text-gray-500 mr-4\">{product.reviewCount} đánh giá</span>\n                        <span className=\"text-gray-500\">{product.sold} đã bán</span>\n                    </div>\n\n                    {/* Product price */}\n                    <div className=\"bg-gray-50 p-4 mb-6 rounded-md\">\n                        <div className=\"flex items-baseline\">\n                            <span className=\"text-3xl text-primary font-bold\">{product.price.toLocaleString()}đ</span>\n                            {product.originalPrice && (\n                                <>\n                                    <span className=\"ml-2 text-gray-400 line-through\">{product.originalPrice.toLocaleString()}đ</span>\n                                    <span className=\"ml-2 bg-primary text-white px-2 py-1 text-xs rounded-md\">-{product.discount}%</span>\n                                </>\n                            )}\n                        </div>\n                    </div>\n\n                    {/* Size selection */}\n                    <div className=\"mb-6\">\n                        <h3 className=\"text-sm font-medium mb-2\">Kích thước</h3>\n                        <div className=\"flex flex-wrap gap-2\">\n                            {product.sizes.map((size) => (\n                                <button\n                                    key={size}\n                                    className={`w-10 h-10 flex items-center justify-center border ${selectedSize === size ? 'bg-primary text-white border-primary' : 'border-gray-300 hover:border-primary'} rounded`}\n                                    onClick={() => setSelectedSize(size)}\n                                >\n                                    {size}\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* Color selection */}\n                    <div className=\"mb-6\">\n                        <h3 className=\"text-sm font-medium mb-2\">Màu sắc</h3>\n                        <div className=\"flex flex-wrap gap-3\">\n                            {product.colors.map((color, index) => (\n                                <button\n                                    key={index}\n                                    className={`w-8 h-8 rounded-full ${selectedColor === color.name ? 'ring-2 ring-primary' : ''}`}\n                                    style={{\n                                        backgroundColor: color.value,\n                                        border: color.border ? '1px solid #d1d5db' : 'none',\n                                        ...(selectedColor === color.name && { boxShadow: `0 0 0 2px ${color.value}` })\n                                    }}\n                                    onClick={() => setSelectedColor(color.name)}\n                                    title={color.name}\n                                ></button>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* Quantity */}\n                    <div className=\"mb-6\">\n                        <h3 className=\"text-sm font-medium mb-2\">Số lượng</h3>\n                        <div className=\"flex items-center\">\n                            <button\n                                className=\"w-8 h-8 border border-gray-300 flex items-center justify-center rounded-l hover:bg-gray-100\"\n                                onClick={decreaseQuantity}\n                            >\n                                <FiMinus />\n                            </button>\n                            <input\n                                type=\"number\"\n                                value={quantity}\n                                onChange={(e) => {\n                                    const val = parseInt(e.target.value);\n                                    if (!isNaN(val) && val > 0 && val <= product.stock) {\n                                        setQuantity(val);\n                                    }\n                                }}\n                                className=\"w-14 h-8 border-t border-b border-gray-300 text-center\"\n                            />\n                            <button\n                                className=\"w-8 h-8 border border-gray-300 flex items-center justify-center rounded-r hover:bg-gray-100\"\n                                onClick={increaseQuantity}\n                            >\n                                <FiPlus />\n                            </button>\n                            <span className=\"ml-4 text-gray-500\">{product.stock} sản phẩm có sẵn</span>\n                        </div>\n                    </div>\n\n                    {/* Add to cart and Buy now buttons */}\n                    <div className=\"mb-6 flex space-x-4\">\n                        <AddToCartButton\n                            product={{\n                                id: product.id,\n                                name: product.name,\n                                price: product.price,\n                                originalPrice: product.originalPrice,\n                                image: product.images[0]\n                            }}\n                            quantity={quantity}\n                            size={selectedSize}\n                            color={selectedColor}\n                            className=\"flex-1\"\n                        />\n                        <button\n                            onClick={handleBuyNow}\n                            className=\"flex-1 flex items-center justify-center px-4 py-2 bg-orange-600 text-white rounded font-medium hover:bg-orange-700 transition\"\n                        >\n                            Mua ngay\n                        </button>\n                    </div>\n\n                    {/* Extra actions */}\n                    <div className=\"flex space-x-6 text-gray-500 mb-8\">\n                        <button className=\"flex items-center hover:text-primary\">\n                            <FiHeart className=\"mr-1\" />\n                            <span>Yêu thích</span>\n                        </button>\n                        <button className=\"flex items-center hover:text-primary\">\n                            <FiShare2 className=\"mr-1\" />\n                            <span>Chia sẻ</span>\n                        </button>\n                    </div>\n\n                    {/* Delivery info */}\n                    <div className=\"bg-gray-50 p-4 rounded-md mb-6\">\n                        <div className=\"flex items-start\">\n                            <FiTruck className=\"mt-1 mr-3 text-primary\" />\n                            <div>\n                                <h4 className=\"font-medium\">Thời gian giao hàng</h4>\n                                <p className=\"text-sm text-gray-600\">\n                                    Ước tính {product.estimatedDelivery} sau khi đặt hàng\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Product specs */}\n                    <div className=\"border-t pt-6\">\n                        <h3 className=\"font-medium mb-3\">Thông số sản phẩm</h3>\n                        <table className=\"w-full text-sm\">\n                            <tbody>\n                                {product.specs.map((spec, index) => (\n                                    <tr key={index} className={index % 2 === 0 ? 'bg-gray-50' : ''}>\n                                        <td className=\"py-2 px-3 font-medium\">{spec.name}</td>\n                                        <td className=\"py-2 px-3\">{spec.value}</td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n\n            {/* Product description */}\n            <div className=\"mt-12 border-t pt-8\">\n                <h2 className=\"text-xl font-bold mb-4\">Mô tả sản phẩm</h2>\n                <div className=\"text-gray-700 space-y-4\">\n                    <p>{product.description}</p>\n                    <p>\n                        Đặc điểm nổi bật:\n                    </p>\n                    <ul className=\"list-disc pl-5 space-y-1\">\n                        <li>Chất liệu cao cấp, mềm mại, thoáng mát</li>\n                        <li>Form dáng thoải mái, phù hợp mọi vóc dáng</li>\n                        <li>Thiết kế hiện đại, dễ phối đồ</li>\n                        <li>Đường may tỉ mỉ, chắc chắn</li>\n                        <li>Có nhiều size và màu sắc để lựa chọn</li>\n                    </ul>\n                    <p>\n                        Hướng dẫn bảo quản:\n                    </p>\n                    <ul className=\"list-disc pl-5 space-y-1\">\n                        <li>Giặt máy ở nhiệt độ thấp hoặc giặt tay</li>\n                        <li>Không dùng chất tẩy mạnh</li>\n                        <li>Phơi trong bóng râm</li>\n                        <li>Là ủi ở nhiệt độ thấp</li>\n                    </ul>\n                </div>\n            </div>\n\n            {/* Product reviews */}\n            <ProductReviews reviews={product.reviews} />\n\n            {/* Related products */}\n            {relatedProducts.length > 0 && (\n                <div className=\"mt-12 border-t pt-8\">\n                    <h2 className=\"text-xl font-bold mb-6\">Sản phẩm tương tự</h2>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                        {relatedProducts.map(relatedProduct => (\n                            <ProductCard key={relatedProduct.id} product={relatedProduct} />\n                        ))}\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default ProductPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,IAAI,QAAQ,kBAAkB;AAClD,SAASC,MAAM,EAAEC,OAAO,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,MAAM,EAAEC,OAAO,QAAQ,gBAAgB;AACpF,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,eAAe,MAAM,+BAA+B;AAC3D,OAAOC,cAAc,MAAM,8BAA8B;AACzD,OAAOC,WAAW,MAAM,2BAA2B;AACnD,SAASC,OAAO,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAElD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM;IAAEC;EAAG,CAAC,GAAGnB,SAAS,CAAC,CAAC;EAC1B,MAAM,CAACoB,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACwB,eAAe,EAAEC,kBAAkB,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAC,GAAG3B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC4B,SAAS,EAAEC,YAAY,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC8B,QAAQ,EAAEC,WAAW,CAAC,GAAG/B,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACgC,YAAY,EAAEC,eAAe,CAAC,GAAGjC,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACkC,aAAa,EAAEC,gBAAgB,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM;IAAEoC;EAAU,CAAC,GAAGtB,OAAO,CAAC,CAAC;EAE/Bb,SAAS,CAAC,MAAM;IACZoC,mBAAmB,CAAC,CAAC;EACzB,CAAC,EAAE,CAAChB,EAAE,CAAC,CAAC;EAER,MAAMgB,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACpCV,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MAAA,IAAAW,qBAAA,EAAAC,mBAAA,EAAAC,qBAAA,EAAAC,sBAAA;MACA;MACA,MAAMC,QAAQ,GAAG,MAAMhC,KAAK,CAACiC,GAAG,CAAC,kCAAkCtB,EAAE,EAAE,CAAC;MACxE,MAAMuB,WAAW,GAAGF,QAAQ,CAACG,IAAI;;MAEjC;MACA,IAAID,WAAW,CAACE,KAAK,EAAE;QACnB,MAAMC,SAAS,GAAGH,WAAW,CAACE,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC;QACvElB,eAAe,CAACc,SAAS,CAAC,CAAC,CAAC,CAAC;MACjC;MAEA,IAAIH,WAAW,CAACQ,KAAK,EAAE;QACnBjB,gBAAgB,CAACS,WAAW,CAACQ,KAAK,CAAC;MACvC;;MAEA;MACA,MAAMC,kBAAkB,GAAG;QACvBhC,EAAE,EAAEuB,WAAW,CAACvB,EAAE;QAClBiC,IAAI,EAAEV,WAAW,CAACW,KAAK;QACvBC,KAAK,EAAEZ,WAAW,CAACa,YAAY;QAC/BC,aAAa,EAAEd,WAAW,CAACY,KAAK,GAAGZ,WAAW,CAACa,YAAY,GAAGb,WAAW,CAACY,KAAK,GAAG,IAAI;QACtFG,QAAQ,EAAEf,WAAW,CAACgB,eAAe,IAAI,CAAC;QAC1CC,MAAM,EAAEjB,WAAW,CAACkB,OAAO,IAAIlB,WAAW,CAACkB,OAAO,CAACC,MAAM,GAAG,CAAC,GACvDnB,WAAW,CAACkB,OAAO,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,MAAM,KAAKD,GAAG,GAAGC,MAAM,CAACL,MAAM,EAAE,CAAC,CAAC,GAAGjB,WAAW,CAACkB,OAAO,CAACC,MAAM,GAChG,CAAC;QACPI,WAAW,EAAEvB,WAAW,CAACkB,OAAO,GAAGlB,WAAW,CAACkB,OAAO,CAACC,MAAM,GAAG,CAAC;QACjEK,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG;QAAE;QAC9CC,WAAW,EAAE5B,WAAW,CAAC4B,WAAW,IAAI,0BAA0B;QAClEC,MAAM,EAAE7B,WAAW,CAAC6B,MAAM,IAAI7B,WAAW,CAAC6B,MAAM,CAACV,MAAM,GAAG,CAAC,GACrDnB,WAAW,CAAC6B,MAAM,GAClB,CAAC,mDAAmD,CAAC;QAC3D3B,KAAK,EAAEF,WAAW,CAACE,KAAK,GAAGF,WAAW,CAACE,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;QACxFuB,MAAM,EAAE,CACJ;UAAEpB,IAAI,EAAEV,WAAW,CAACQ,KAAK,IAAI,UAAU;UAAEuB,KAAK,EAAEC,eAAe,CAAChC,WAAW,CAACQ,KAAK,CAAC;UAAEyB,MAAM,EAAE;QAAK,CAAC,CACrG;QACDC,KAAK,EAAE,CACH;UAAExB,IAAI,EAAE,WAAW;UAAEqB,KAAK,EAAE;QAAS,CAAC,EACtC;UAAErB,IAAI,EAAE,SAAS;UAAEqB,KAAK,EAAE;QAAW,CAAC,EACtC;UAAErB,IAAI,EAAE,SAAS;UAAEqB,KAAK,EAAE,CAAArC,qBAAA,GAAAM,WAAW,CAACmC,QAAQ,cAAAzC,qBAAA,eAApBA,qBAAA,CAAsB0C,UAAU,CAACC,QAAQ,CAAC,KAAK,CAAC,GAAG,KAAK,GAAG;QAAK,CAAC,EAC3F;UAAE3B,IAAI,EAAE,cAAc;UAAEqB,KAAK,EAAE,EAAApC,mBAAA,GAAAK,WAAW,CAACsC,MAAM,cAAA3C,mBAAA,uBAAlBA,mBAAA,CAAoB4C,UAAU,KAAI;QAAiB,CAAC,CACtF;QACDC,KAAK,EAAExC,WAAW,CAACd,QAAQ,IAAI,EAAE;QACjCuD,iBAAiB,EAAE,UAAU;QAC7BvB,OAAO,EAAEwB,gBAAgB,CAAC1C,WAAW,CAACkB,OAAO,CAAC;QAC9CoB,MAAM,EAAEtC,WAAW,CAACsC,MAAM,GAAG;UACzB7D,EAAE,EAAEuB,WAAW,CAACsC,MAAM,CAAC7D,EAAE;UACzBiC,IAAI,EAAEV,WAAW,CAACsC,MAAM,CAACC,UAAU;UACnCI,YAAY,GAAA/C,qBAAA,GAAEI,WAAW,CAACsC,MAAM,CAACM,eAAe,cAAAhD,qBAAA,uBAAlCA,qBAAA,CAAoC+C;QACtD,CAAC,GAAG;MACR,CAAC;MAEDhE,UAAU,CAAC8B,kBAAkB,CAAC;MAC9B,IAAIA,kBAAkB,CAACoB,MAAM,IAAIpB,kBAAkB,CAACoB,MAAM,CAACV,MAAM,GAAG,CAAC,EAAE;QACnElC,YAAY,CAACwB,kBAAkB,CAACoB,MAAM,CAAC,CAAC,CAAC,CAAC;MAC9C;;MAEA;MACAgB,oBAAoB,EAAAhD,sBAAA,GAACG,WAAW,CAACmC,QAAQ,cAAAtC,sBAAA,uBAApBA,sBAAA,CAAsBuC,UAAU,CAAC;MAEtDrD,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC,OAAO+D,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACvD/D,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;;EAED;EACA,MAAMiD,eAAe,GAAIgB,SAAS,IAAK;IACnC,IAAI,CAACA,SAAS,EAAE,OAAO,SAAS;IAEhC,MAAMC,QAAQ,GAAG;MACb,KAAK,EAAE,SAAS;MAChB,OAAO,EAAE,SAAS;MAClB,MAAM,EAAE,SAAS;MACjB,OAAO,EAAE,SAAS;MAClB,OAAO,EAAE,SAAS;MAClB,MAAM,EAAE,SAAS;MACjB,QAAQ,EAAE,SAAS;MACnB,QAAQ,EAAE,SAAS;MACnB,QAAQ,EAAE,SAAS;MACnB,MAAM,EAAE,SAAS;MACjB,OAAO,EAAE,SAAS;MAClB,MAAM,EAAE,SAAS;MACjB,KAAK,EAAE,SAAS;MAChB,OAAO,EAAE,SAAS;MAClB,IAAI,EAAE,SAAS;MACf,SAAS,EAAE,SAAS;MACpB,YAAY,EAAE,SAAS;MACvB,MAAM,EAAE,SAAS;MACjB,MAAM,EAAE,SAAS;MACjB,MAAM,EAAE,SAAS;MACjB,KAAK,EAAE,SAAS;MAChB,KAAK,EAAE,SAAS;MAChB,MAAM,EAAE,SAAS;MACjB,KAAK,EAAE,SAAS;MAChB,KAAK,EAAE,SAAS;MAChB,WAAW,EAAE;IACjB,CAAC;IAED,OAAOA,QAAQ,CAACD,SAAS,CAAC,IAAI,SAAS;EAC3C,CAAC;EAED,MAAMH,oBAAoB,GAAG,MAAOT,UAAU,IAAK;IAC/C,IAAI,CAACA,UAAU,EAAE;IAEjB,IAAI;MACA;MACA,MAAMtC,QAAQ,GAAG,MAAMhC,KAAK,CAACiC,GAAG,CAAC,2CAA2CqC,UAAU,SAAS,CAAC;MAChG,MAAMnC,IAAI,GAAGH,QAAQ,CAACG,IAAI;;MAE1B;MACA,MAAMiD,mBAAmB,GAAGjD,IAAI,CAACkD,OAAO,CACnCC,MAAM,CAAC1E,OAAO,IAAIA,OAAO,CAACD,EAAE,KAAK4E,QAAQ,CAAC5E,EAAE,CAAC,CAAC,CAAC;MAAA,CAC/C6E,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAAA,CACZjD,GAAG,CAAC3B,OAAO,KAAK;QACbD,EAAE,EAAEC,OAAO,CAACD,EAAE;QACdiC,IAAI,EAAEhC,OAAO,CAACiC,KAAK;QACnBC,KAAK,EAAElC,OAAO,CAACmC,YAAY;QAC3BC,aAAa,EAAEpC,OAAO,CAACkC,KAAK,GAAGlC,OAAO,CAACmC,YAAY,GAAGnC,OAAO,CAACkC,KAAK,GAAG,IAAI;QAC1E2C,KAAK,EAAE7E,OAAO,CAACmD,MAAM,IAAInD,OAAO,CAACmD,MAAM,CAACV,MAAM,GAAG,CAAC,GAAGzC,OAAO,CAACmD,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI;QAC7EZ,MAAM,EAAEvC,OAAO,CAACwC,OAAO,IAAIxC,OAAO,CAACwC,OAAO,CAACC,MAAM,GAAG,CAAC,GAC/CzC,OAAO,CAACwC,OAAO,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,MAAM,KAAKD,GAAG,GAAGC,MAAM,CAACL,MAAM,EAAE,CAAC,CAAC,GAAGvC,OAAO,CAACwC,OAAO,CAACC,MAAM,GACxF,GAAG;QACTK,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG;MAC7C,CAAC,CAAC,CAAC;MAEP9C,kBAAkB,CAACqE,mBAAmB,CAAC;IAC3C,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IAC5D;EACJ,CAAC;;EAED;EACA,MAAMJ,gBAAgB,GAAIc,UAAU,IAAK;IACrC,IAAI,CAACA,UAAU,IAAI,CAACC,KAAK,CAACC,OAAO,CAACF,UAAU,CAAC,EAAE,OAAO,EAAE;IAExD,OAAOA,UAAU,CAACnD,GAAG,CAACiB,MAAM;MAAA,IAAAqC,YAAA;MAAA,OAAK;QAC7BC,QAAQ,EAAE,EAAAD,YAAA,GAAArC,MAAM,CAACuC,IAAI,cAAAF,YAAA,uBAAXA,YAAA,CAAaG,QAAQ,KAAI,oBAAoB;QACvDC,IAAI,EAAEC,UAAU,CAAC1C,MAAM,CAAC2C,SAAS,CAAC;QAClChD,MAAM,EAAEK,MAAM,CAACL,MAAM;QACrBkC,OAAO,EAAE7B,MAAM,CAAC4C,UAAU,IAAI,6BAA6B;QAC3DrC,MAAM,EAAEP,MAAM,CAAC6C,aAAa,IAAI;MACpC,CAAC;IAAA,CAAC,CAAC;EACP,CAAC;;EAED;EACA,MAAMH,UAAU,GAAII,UAAU,IAAK;IAC/B,IAAI,CAACA,UAAU,EAAE,OAAO,EAAE;IAE1B,MAAML,IAAI,GAAG,IAAIM,IAAI,CAACD,UAAU,CAAC;IACjC,OAAO,GAAGL,IAAI,CAACO,OAAO,CAAC,CAAC,IAAIP,IAAI,CAACQ,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAIR,IAAI,CAACS,WAAW,CAAC,CAAC,EAAE;EAC3E,CAAC;EAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC3B,IAAI/F,OAAO,IAAIQ,QAAQ,GAAGR,OAAO,CAAC8D,KAAK,EAAE;MACrCrD,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC;IAC7B;EACJ,CAAC;EAED,MAAMwF,gBAAgB,GAAGA,CAAA,KAAM;IAC3B,IAAIxF,QAAQ,GAAG,CAAC,EAAE;MACdC,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC;IAC7B;EACJ,CAAC;;EAED;EACA,MAAMyF,YAAY,GAAGA,CAAA,KAAM;IACvB,IAAI,CAACvF,YAAY,IAAI,CAACE,aAAa,EAAE;MACjCsF,KAAK,CAAC,qCAAqC,CAAC;MAC5C;IACJ;IAEApF,SAAS,CACL;MACIf,EAAE,EAAEC,OAAO,CAACD,EAAE;MACdiC,IAAI,EAAEhC,OAAO,CAACgC,IAAI;MAClBE,KAAK,EAAElC,OAAO,CAACkC,KAAK;MACpBE,aAAa,EAAEpC,OAAO,CAACoC,aAAa;MACpCyC,KAAK,EAAE7E,OAAO,CAACmD,MAAM,CAAC,CAAC;IAC3B,CAAC,EACD3C,QAAQ,EACRE,YAAY,EACZE,aACJ,CAAC;;IAED;IACAuF,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,OAAO;EAClC,CAAC;EAED,IAAIjG,OAAO,EAAE;IACT,oBACIV,OAAA;MAAK4G,SAAS,EAAC,kDAAkD;MAAAC,QAAA,eAC7D7G,OAAA;QAAK4G,SAAS,EAAC;MAA0E;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/F,CAAC;EAEd;EAEA,IAAI,CAAC3G,OAAO,EAAE;IACV,oBACIN,OAAA;MAAK4G,SAAS,EAAC,0CAA0C;MAAAC,QAAA,eACrD7G,OAAA;QAAI4G,SAAS,EAAC,iCAAiC;QAAAC,QAAA,EAAC;MAAuB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3E,CAAC;EAEd;EAEA,oBACIjH,OAAA;IAAK4G,SAAS,EAAC,6BAA6B;IAAAC,QAAA,gBAExC7G,OAAA;MAAK4G,SAAS,EAAC,0BAA0B;MAAAC,QAAA,eACrC7G,OAAA;QAAI4G,SAAS,EAAC,8BAA8B;QAAAC,QAAA,gBACxC7G,OAAA;UAAA6G,QAAA,eAAI7G,OAAA,CAACb,IAAI;YAAC+H,EAAE,EAAC,GAAG;YAACN,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrEjH,OAAA;UAAA6G,QAAA,EAAI;QAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACVjH,OAAA;UAAA6G,QAAA,eAAI7G,OAAA,CAACb,IAAI;YAAC+H,EAAE,EAAC,WAAW;YAACN,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5EjH,OAAA;UAAA6G,QAAA,EAAI;QAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACVjH,OAAA;UAAI4G,SAAS,EAAC,2BAA2B;UAAAC,QAAA,EAAEvG,OAAO,CAACgC;QAAI;UAAAwE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7D;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC,eAENjH,OAAA;MAAK4G,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBAElD7G,OAAA;QAAA6G,QAAA,gBAEI7G,OAAA;UAAK4G,SAAS,EAAC,wDAAwD;UAAAC,QAAA,eACnE7G,OAAA;YACImH,GAAG,EAAEvG,SAAU;YACfwG,GAAG,EAAE9G,OAAO,CAACgC,IAAK;YAClBsE,SAAS,EAAC;UAA4B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAGNjH,OAAA;UAAK4G,SAAS,EAAC,wBAAwB;UAAAC,QAAA,EAClCvG,OAAO,CAACmD,MAAM,CAACxB,GAAG,CAAC,CAACkD,KAAK,EAAEkC,KAAK,kBAC7BrH,OAAA;YAEI4G,SAAS,EAAE,oDAAoDhG,SAAS,KAAKuE,KAAK,GAAG,gBAAgB,GAAG,iBAAiB,EAAG;YAC5HmC,OAAO,EAAEA,CAAA,KAAMzG,YAAY,CAACsE,KAAK,CAAE;YAAA0B,QAAA,eAEnC7G,OAAA;cACImH,GAAG,EAAEhC,KAAM;cACXiC,GAAG,EAAE,GAAG9G,OAAO,CAACgC,IAAI,YAAY+E,KAAK,GAAG,CAAC,EAAG;cAC5CT,SAAS,EAAC;YAA0B;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvC;UAAC,GARGI,KAAK;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAST,CACR;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAGNjH,OAAA;QAAA6G,QAAA,gBACI7G,OAAA;UAAI4G,SAAS,EAAC,yBAAyB;UAAAC,QAAA,EAAEvG,OAAO,CAACgC;QAAI;UAAAwE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAG3DjH,OAAA;UAAK4G,SAAS,EAAC,wBAAwB;UAAAC,QAAA,gBACnC7G,OAAA;YAAK4G,SAAS,EAAC,wBAAwB;YAAAC,QAAA,gBACnC7G,OAAA;cAAM4G,SAAS,EAAC,yCAAyC;cAAAC,QAAA,EAAEvG,OAAO,CAACuC,MAAM,CAAC0E,OAAO,CAAC,CAAC;YAAC;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC5FjH,OAAA;cAAK4G,SAAS,EAAC,MAAM;cAAAC,QAAA,EAChB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC5E,GAAG,CAACuF,IAAI,iBACrBxH,OAAA,CAACZ,MAAM;gBAEHwH,SAAS,EAAE,GAAGY,IAAI,IAAInE,IAAI,CAACoE,KAAK,CAACnH,OAAO,CAACuC,MAAM,CAAC,GAAG,8BAA8B,GAAG,eAAe,EAAG;gBACtGX,IAAI,EAAE;cAAG,GAFJsF,IAAI;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAGZ,CACJ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eACNjH,OAAA;YAAM4G,SAAS,EAAC,oBAAoB;YAAAC,QAAA,GAAEvG,OAAO,CAAC6C,WAAW,EAAC,sBAAS;UAAA;YAAA2D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC1EjH,OAAA;YAAM4G,SAAS,EAAC,eAAe;YAAAC,QAAA,GAAEvG,OAAO,CAAC8C,IAAI,EAAC,oBAAO;UAAA;YAAA0D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3D,CAAC,eAGNjH,OAAA;UAAK4G,SAAS,EAAC,gCAAgC;UAAAC,QAAA,eAC3C7G,OAAA;YAAK4G,SAAS,EAAC,qBAAqB;YAAAC,QAAA,gBAChC7G,OAAA;cAAM4G,SAAS,EAAC,iCAAiC;cAAAC,QAAA,GAAEvG,OAAO,CAACkC,KAAK,CAACkF,cAAc,CAAC,CAAC,EAAC,QAAC;YAAA;cAAAZ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,EACzF3G,OAAO,CAACoC,aAAa,iBAClB1C,OAAA,CAAAE,SAAA;cAAA2G,QAAA,gBACI7G,OAAA;gBAAM4G,SAAS,EAAC,iCAAiC;gBAAAC,QAAA,GAAEvG,OAAO,CAACoC,aAAa,CAACgF,cAAc,CAAC,CAAC,EAAC,QAAC;cAAA;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAClGjH,OAAA;gBAAM4G,SAAS,EAAC,yDAAyD;gBAAAC,QAAA,GAAC,GAAC,EAACvG,OAAO,CAACqC,QAAQ,EAAC,GAAC;cAAA;gBAAAmE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA,eACvG,CACL;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGNjH,OAAA;UAAK4G,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACjB7G,OAAA;YAAI4G,SAAS,EAAC,0BAA0B;YAAAC,QAAA,EAAC;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACxDjH,OAAA;YAAK4G,SAAS,EAAC,sBAAsB;YAAAC,QAAA,EAChCvG,OAAO,CAACwB,KAAK,CAACG,GAAG,CAAEC,IAAI,iBACpBlC,OAAA;cAEI4G,SAAS,EAAE,qDAAqD5F,YAAY,KAAKkB,IAAI,GAAG,sCAAsC,GAAG,sCAAsC,UAAW;cAClLoF,OAAO,EAAEA,CAAA,KAAMrG,eAAe,CAACiB,IAAI,CAAE;cAAA2E,QAAA,EAEpC3E;YAAI,GAJAA,IAAI;cAAA4E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAKL,CACX;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGNjH,OAAA;UAAK4G,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACjB7G,OAAA;YAAI4G,SAAS,EAAC,0BAA0B;YAAAC,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACrDjH,OAAA;YAAK4G,SAAS,EAAC,sBAAsB;YAAAC,QAAA,EAChCvG,OAAO,CAACoD,MAAM,CAACzB,GAAG,CAAC,CAACG,KAAK,EAAEiF,KAAK,kBAC7BrH,OAAA;cAEI4G,SAAS,EAAE,wBAAwB1F,aAAa,KAAKkB,KAAK,CAACE,IAAI,GAAG,qBAAqB,GAAG,EAAE,EAAG;cAC/FqF,KAAK,EAAE;gBACHC,eAAe,EAAExF,KAAK,CAACuB,KAAK;gBAC5BE,MAAM,EAAEzB,KAAK,CAACyB,MAAM,GAAG,mBAAmB,GAAG,MAAM;gBACnD,IAAI3C,aAAa,KAAKkB,KAAK,CAACE,IAAI,IAAI;kBAAEuF,SAAS,EAAE,aAAazF,KAAK,CAACuB,KAAK;gBAAG,CAAC;cACjF,CAAE;cACF2D,OAAO,EAAEA,CAAA,KAAMnG,gBAAgB,CAACiB,KAAK,CAACE,IAAI,CAAE;cAC5CC,KAAK,EAAEH,KAAK,CAACE;YAAK,GARb+E,KAAK;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OASL,CACZ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGNjH,OAAA;UAAK4G,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACjB7G,OAAA;YAAI4G,SAAS,EAAC,0BAA0B;YAAAC,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtDjH,OAAA;YAAK4G,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAC9B7G,OAAA;cACI4G,SAAS,EAAC,6FAA6F;cACvGU,OAAO,EAAEhB,gBAAiB;cAAAO,QAAA,eAE1B7G,OAAA,CAACT,OAAO;gBAAAuH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP,CAAC,eACTjH,OAAA;cACI8H,IAAI,EAAC,QAAQ;cACbnE,KAAK,EAAE7C,QAAS;cAChBiH,QAAQ,EAAGC,CAAC,IAAK;gBACb,MAAMC,GAAG,GAAGhD,QAAQ,CAAC+C,CAAC,CAACE,MAAM,CAACvE,KAAK,CAAC;gBACpC,IAAI,CAACwE,KAAK,CAACF,GAAG,CAAC,IAAIA,GAAG,GAAG,CAAC,IAAIA,GAAG,IAAI3H,OAAO,CAAC8D,KAAK,EAAE;kBAChDrD,WAAW,CAACkH,GAAG,CAAC;gBACpB;cACJ,CAAE;cACFrB,SAAS,EAAC;YAAwD;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrE,CAAC,eACFjH,OAAA;cACI4G,SAAS,EAAC,6FAA6F;cACvGU,OAAO,EAAEjB,gBAAiB;cAAAQ,QAAA,eAE1B7G,OAAA,CAACR,MAAM;gBAAAsH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACTjH,OAAA;cAAM4G,SAAS,EAAC,oBAAoB;cAAAC,QAAA,GAAEvG,OAAO,CAAC8D,KAAK,EAAC,oCAAgB;YAAA;cAAA0C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGNjH,OAAA;UAAK4G,SAAS,EAAC,qBAAqB;UAAAC,QAAA,gBAChC7G,OAAA,CAACL,eAAe;YACZW,OAAO,EAAE;cACLD,EAAE,EAAEC,OAAO,CAACD,EAAE;cACdiC,IAAI,EAAEhC,OAAO,CAACgC,IAAI;cAClBE,KAAK,EAAElC,OAAO,CAACkC,KAAK;cACpBE,aAAa,EAAEpC,OAAO,CAACoC,aAAa;cACpCyC,KAAK,EAAE7E,OAAO,CAACmD,MAAM,CAAC,CAAC;YAC3B,CAAE;YACF3C,QAAQ,EAAEA,QAAS;YACnBoB,IAAI,EAAElB,YAAa;YACnBoB,KAAK,EAAElB,aAAc;YACrB0F,SAAS,EAAC;UAAQ;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrB,CAAC,eACFjH,OAAA;YACIsH,OAAO,EAAEf,YAAa;YACtBK,SAAS,EAAC,+HAA+H;YAAAC,QAAA,EAC5I;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eAGNjH,OAAA;UAAK4G,SAAS,EAAC,mCAAmC;UAAAC,QAAA,gBAC9C7G,OAAA;YAAQ4G,SAAS,EAAC,sCAAsC;YAAAC,QAAA,gBACpD7G,OAAA,CAACX,OAAO;cAACuH,SAAS,EAAC;YAAM;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC5BjH,OAAA;cAAA6G,QAAA,EAAM;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClB,CAAC,eACTjH,OAAA;YAAQ4G,SAAS,EAAC,sCAAsC;YAAAC,QAAA,gBACpD7G,OAAA,CAACV,QAAQ;cAACsH,SAAS,EAAC;YAAM;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC7BjH,OAAA;cAAA6G,QAAA,EAAM;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eAGNjH,OAAA;UAAK4G,SAAS,EAAC,gCAAgC;UAAAC,QAAA,eAC3C7G,OAAA;YAAK4G,SAAS,EAAC,kBAAkB;YAAAC,QAAA,gBAC7B7G,OAAA,CAACP,OAAO;cAACmH,SAAS,EAAC;YAAwB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC9CjH,OAAA;cAAA6G,QAAA,gBACI7G,OAAA;gBAAI4G,SAAS,EAAC,aAAa;gBAAAC,QAAA,EAAC;cAAmB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpDjH,OAAA;gBAAG4G,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GAAC,wBACxB,EAACvG,OAAO,CAAC+D,iBAAiB,EAAC,gCACxC;cAAA;gBAAAyC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGNjH,OAAA;UAAK4G,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC1B7G,OAAA;YAAI4G,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvDjH,OAAA;YAAO4G,SAAS,EAAC,gBAAgB;YAAAC,QAAA,eAC7B7G,OAAA;cAAA6G,QAAA,EACKvG,OAAO,CAACwD,KAAK,CAAC7B,GAAG,CAAC,CAACmG,IAAI,EAAEf,KAAK,kBAC3BrH,OAAA;gBAAgB4G,SAAS,EAAES,KAAK,GAAG,CAAC,KAAK,CAAC,GAAG,YAAY,GAAG,EAAG;gBAAAR,QAAA,gBAC3D7G,OAAA;kBAAI4G,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAEuB,IAAI,CAAC9F;gBAAI;kBAAAwE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACtDjH,OAAA;kBAAI4G,SAAS,EAAC,WAAW;kBAAAC,QAAA,EAAEuB,IAAI,CAACzE;gBAAK;kBAAAmD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC;cAAA,GAFtCI,KAAK;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAGV,CACP;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACP,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAGNjH,OAAA;MAAK4G,SAAS,EAAC,qBAAqB;MAAAC,QAAA,gBAChC7G,OAAA;QAAI4G,SAAS,EAAC,wBAAwB;QAAAC,QAAA,EAAC;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC1DjH,OAAA;QAAK4G,SAAS,EAAC,yBAAyB;QAAAC,QAAA,gBACpC7G,OAAA;UAAA6G,QAAA,EAAIvG,OAAO,CAACkD;QAAW;UAAAsD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5BjH,OAAA;UAAA6G,QAAA,EAAG;QAEH;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJjH,OAAA;UAAI4G,SAAS,EAAC,0BAA0B;UAAAC,QAAA,gBACpC7G,OAAA;YAAA6G,QAAA,EAAI;UAAsC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/CjH,OAAA;YAAA6G,QAAA,EAAI;UAAyC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClDjH,OAAA;YAAA6G,QAAA,EAAI;UAA6B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtCjH,OAAA;YAAA6G,QAAA,EAAI;UAA0B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACnCjH,OAAA;YAAA6G,QAAA,EAAI;UAAoC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC,eACLjH,OAAA;UAAA6G,QAAA,EAAG;QAEH;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJjH,OAAA;UAAI4G,SAAS,EAAC,0BAA0B;UAAAC,QAAA,gBACpC7G,OAAA;YAAA6G,QAAA,EAAI;UAAsC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/CjH,OAAA;YAAA6G,QAAA,EAAI;UAAwB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjCjH,OAAA;YAAA6G,QAAA,EAAI;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC5BjH,OAAA;YAAA6G,QAAA,EAAI;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAGNjH,OAAA,CAACJ,cAAc;MAACkD,OAAO,EAAExC,OAAO,CAACwC;IAAQ;MAAAgE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAG3CzG,eAAe,CAACuC,MAAM,GAAG,CAAC,iBACvB/C,OAAA;MAAK4G,SAAS,EAAC,qBAAqB;MAAAC,QAAA,gBAChC7G,OAAA;QAAI4G,SAAS,EAAC,wBAAwB;QAAAC,QAAA,EAAC;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7DjH,OAAA;QAAK4G,SAAS,EAAC,uCAAuC;QAAAC,QAAA,EACjDrG,eAAe,CAACyB,GAAG,CAACoG,cAAc,iBAC/BrI,OAAA,CAACH,WAAW;UAAyBS,OAAO,EAAE+H;QAAe,GAA3CA,cAAc,CAAChI,EAAE;UAAAyG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAA4B,CAClE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACR;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAAC7G,EAAA,CA3dID,WAAW;EAAA,QACEjB,SAAS,EAQFY,OAAO;AAAA;AAAAwI,EAAA,GAT3BnI,WAAW;AA6djB,eAAeA,WAAW;AAAC,IAAAmI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}