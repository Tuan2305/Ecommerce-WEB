{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PHT\\\\OneDrive\\\\laptrinhungdungnangcao\\\\gk\\\\frontend_shop-web-master\\\\frontend_shop-web-master\\\\src\\\\pages\\\\admin\\\\ProductForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport { FiSave, FiArrowLeft, FiPlus, FiX, FiImage } from 'react-icons/fi';\nimport axios from 'axios';\nimport { useAdminAuth } from '../../contexts/AdminAuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductForm = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    admin\n  } = useAdminAuth();\n  const isEditMode = !!id;\n  const [loading, setLoading] = useState(isEditMode);\n  const [submitting, setSubmitting] = useState(false);\n  const [imageUrls, setImageUrls] = useState(['']);\n  const [error, setError] = useState('');\n  const [product, setProduct] = useState({\n    title: '',\n    description: '',\n    price: '',\n    sellingPrice: '',\n    quantity: '',\n    color: '',\n    sizes: 'M, L',\n    category: 'men',\n    category2: 'bottom_were',\n    category3: 'men_shirt'\n  });\n\n  // Danh sách danh mục cấp 1\n  const categories = [{\n    id: 'men',\n    name: 'Nam'\n  }, {\n    id: 'women',\n    name: 'Nữ'\n  }, {\n    id: 'kids',\n    name: 'Trẻ em'\n  }, {\n    id: 'accessories',\n    name: 'Phụ kiện'\n  }];\n\n  // Danh mục cấp 2 dựa trên danh mục cấp 1\n  const getSubcategories = category => {\n    switch (category) {\n      case 'men':\n        return [{\n          id: 'bottom_were',\n          name: 'Quần'\n        }, {\n          id: 'top_were',\n          name: 'Áo'\n        }, {\n          id: 'footwear',\n          name: 'Giày dép'\n        }];\n      case 'women':\n        return [{\n          id: 'saree',\n          name: 'Váy dài'\n        }, {\n          id: 'top_were',\n          name: 'Áo'\n        }, {\n          id: 'bottom_were',\n          name: 'Quần'\n        }, {\n          id: 'footwear',\n          name: 'Giày dép'\n        }];\n      case 'kids':\n        return [{\n          id: 'top_were',\n          name: 'Áo'\n        }, {\n          id: 'bottom_were',\n          name: 'Quần'\n        }];\n      case 'accessories':\n        return [{\n          id: 'watches',\n          name: 'Đồng hồ'\n        }, {\n          id: 'bags',\n          name: 'Túi xách'\n        }];\n      default:\n        return [];\n    }\n  };\n\n  // Danh mục cấp 3 dựa trên danh mục cấp 2\n  const getThirdCategories = (category, subcategory) => {\n    if (category === 'men' && subcategory === 'top_were') {\n      return [{\n        id: 'men_shirt',\n        name: 'Áo sơ mi'\n      }, {\n        id: 'men_tshirt',\n        name: 'Áo thun'\n      }];\n    }\n    if (category === 'men' && subcategory === 'bottom_were') {\n      return [{\n        id: 'men_jeans',\n        name: 'Quần jeans'\n      }, {\n        id: 'men_trousers',\n        name: 'Quần vải'\n      }, {\n        id: 'men_shirt',\n        name: 'Áo sơ mi'\n      }];\n    }\n    if (category === 'women' && subcategory === 'top_were') {\n      return [{\n        id: 'women_shirt',\n        name: 'Áo sơ mi'\n      }, {\n        id: 'women_tshirt',\n        name: 'Áo thun'\n      }];\n    }\n    return [];\n  };\n  useEffect(() => {\n    if (isEditMode) {\n      fetchProductDetails();\n    }\n  }, [id, isEditMode]);\n  const fetchProductDetails = async () => {\n    try {\n      var _productData$category, _productData$category2, _productData$category3, _productData$category4, _productData$category5, _productData$category6;\n      setLoading(true);\n      const response = await axios.get(`http://localhost:8080/api/sellers/products/${id}`, {\n        headers: {\n          'Authorization': `Bearer ${admin === null || admin === void 0 ? void 0 : admin.jwt}`\n        }\n      });\n      const productData = response.data;\n      setProduct({\n        title: productData.title || '',\n        description: productData.description || '',\n        mrpPrice: productData.price || '',\n        sellingPrice: productData.sellingPrice || '',\n        quantity: productData.quantity || '',\n        color: productData.color || '',\n        sizes: productData.sizes || '',\n        category: ((_productData$category = productData.category) === null || _productData$category === void 0 ? void 0 : (_productData$category2 = _productData$category.parentCategory) === null || _productData$category2 === void 0 ? void 0 : (_productData$category3 = _productData$category2.parentCategory) === null || _productData$category3 === void 0 ? void 0 : _productData$category3.categoryId) || 'men',\n        category2: ((_productData$category4 = productData.category) === null || _productData$category4 === void 0 ? void 0 : (_productData$category5 = _productData$category4.parentCategory) === null || _productData$category5 === void 0 ? void 0 : _productData$category5.categoryId) || 'bottom_were',\n        category3: ((_productData$category6 = productData.category) === null || _productData$category6 === void 0 ? void 0 : _productData$category6.categoryId) || 'men_shirt'\n      });\n      setImageUrls(productData.images || ['']);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching product details:', error);\n      setError('Không thể tải thông tin sản phẩm. Vui lòng thử lại sau.');\n      setLoading(false);\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProduct(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleImageUrlChange = (index, value) => {\n    const updatedUrls = [...imageUrls];\n    updatedUrls[index] = value;\n    setImageUrls(updatedUrls);\n  };\n  const addImageUrl = () => {\n    setImageUrls([...imageUrls, '']);\n  };\n  const removeImageUrl = index => {\n    const updatedUrls = [...imageUrls];\n    updatedUrls.splice(index, 1);\n    setImageUrls(updatedUrls);\n  };\n  const validateForm = () => {\n    if (!product.title.trim()) {\n      setError('Vui lòng nhập tên sản phẩm');\n      return false;\n    }\n    if (!product.description.trim()) {\n      setError('Vui lòng nhập mô tả sản phẩm');\n      return false;\n    }\n    if (!product.mrpPrice || isNaN(product.mrpPrice) || Number(product.mrpPrice) <= 0) {\n      setError('Vui lòng nhập giá gốc hợp lệ');\n      return false;\n    }\n    if (!product.sellingPrice || isNaN(product.sellingPrice) || Number(product.sellingPrice) <= 0) {\n      setError('Vui lòng nhập giá bán hợp lệ');\n      return false;\n    }\n    if (!product.quantity || isNaN(product.quantity) || Number(product.quantity) < 0) {\n      setError('Vui lòng nhập số lượng hợp lệ');\n      return false;\n    }\n    if (!product.color.trim()) {\n      setError('Vui lòng nhập màu sắc sản phẩm');\n      return false;\n    }\n\n    // Kiểm tra ít nhất có một URL hình ảnh hợp lệ\n    const validImageUrls = imageUrls.filter(url => url.trim() !== '');\n    if (validImageUrls.length === 0) {\n      setError('Vui lòng thêm ít nhất một hình ảnh sản phẩm');\n      return false;\n    }\n    return true;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    if (!validateForm()) {\n      return;\n    }\n    setSubmitting(true);\n    try {\n      // Lọc bỏ các URL hình ảnh trống\n      const validImageUrls = imageUrls.filter(url => url.trim() !== '');\n      const productData = {\n        title: product.title,\n        description: product.description,\n        mrpPrice: Number(product.mrpPrice),\n        sellingPrice: Number(product.sellingPrice),\n        quantity: Number(product.quantity),\n        color: product.color,\n        images: validImageUrls,\n        category: product.category,\n        category2: product.category2,\n        category3: product.category3,\n        sizes: product.sizes\n      };\n      let response;\n      if (isEditMode) {\n        response = await axios.put(`http://localhost:8080/api/sellers/products/${id}`, productData, {\n          headers: {\n            'Authorization': `Bearer ${admin === null || admin === void 0 ? void 0 : admin.jwt}`,\n            'Content-Type': 'application/json'\n          }\n        });\n      } else {\n        response = await axios.post('http://localhost:8080/api/sellers/products', productData, {\n          headers: {\n            'Authorization': `Bearer ${admin === null || admin === void 0 ? void 0 : admin.jwt}`,\n            'Content-Type': 'application/json'\n          }\n        });\n      }\n      if (response.status === 200 || response.status === 201) {\n        alert(`Sản phẩm đã được ${isEditMode ? 'cập nhật' : 'thêm'} thành công!`);\n        navigate('/admin/products');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error submitting form:', error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Đã xảy ra lỗi khi lưu sản phẩm. Vui lòng thử lại sau.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-3\",\n        children: \"\\u0110ang t\\u1EA3i...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"px-4 sm:px-6 lg:px-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sm:flex sm:items-center sm:justify-between mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: isEditMode ? 'Chỉnh sửa sản phẩm' : 'Thêm sản phẩm mới'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3 sm:mt-0\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/products\",\n          className: \"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none\",\n          children: [/*#__PURE__*/_jsxDEV(FiArrowLeft, {\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), \"Quay l\\u1EA1i\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded relative\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"bg-white shadow rounded-lg overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"Th\\xF4ng tin c\\u01A1 b\\u1EA3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: \"Th\\xF4ng tin c\\u01A1 b\\u1EA3n v\\u1EC1 s\\u1EA3n ph\\u1EA9m.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: [\"T\\xEAn s\\u1EA3n ph\\u1EA9m \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              id: \"title\",\n              required: true,\n              value: product.title,\n              onChange: handleChange,\n              className: \"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\",\n              placeholder: \"Nh\\u1EADp t\\xEAn s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"mrpPrice\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: [\"Gi\\xE1 g\\u1ED1c \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1 relative rounded-md shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"mrpPrice\",\n              id: \"mrpPrice\",\n              required: true,\n              min: \"0\",\n              value: product.mrpPrice,\n              onChange: handleChange,\n              className: \"focus:ring-primary focus:border-primary block w-full pr-12 sm:text-sm border-gray-300 rounded-md\",\n              placeholder: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500 sm:text-sm\",\n                children: \"VN\\u0110\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"sellingPrice\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: [\"Gi\\xE1 b\\xE1n \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1 relative rounded-md shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"sellingPrice\",\n              id: \"sellingPrice\",\n              required: true,\n              min: \"0\",\n              value: product.sellingPrice,\n              onChange: handleChange,\n              className: \"focus:ring-primary focus:border-primary block w-full pr-12 sm:text-sm border-gray-300 rounded-md\",\n              placeholder: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500 sm:text-sm\",\n                children: \"VN\\u0110\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"quantity\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: [\"S\\u1ED1 l\\u01B0\\u1EE3ng \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"quantity\",\n              id: \"quantity\",\n              required: true,\n              min: \"0\",\n              value: product.quantity,\n              onChange: handleChange,\n              className: \"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\",\n              placeholder: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"color\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: [\"M\\xE0u s\\u1EAFc \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"color\",\n              id: \"color\",\n              required: true,\n              value: product.color,\n              onChange: handleChange,\n              className: \"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\",\n              placeholder: \"\\u0110en, Tr\\u1EAFng, \\u0110\\u1ECF,...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"sizes\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: [\"K\\xEDch th\\u01B0\\u1EDBc \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 26\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"sizes\",\n              id: \"sizes\",\n              required: true,\n              value: product.sizes,\n              onChange: handleChange,\n              className: \"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\",\n              placeholder: \"S, M, L, XL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"category\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: [\"Danh m\\u1EE5c c\\u1EA5p 1 \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"category\",\n              name: \"category\",\n              required: true,\n              value: product.category,\n              onChange: handleChange,\n              className: \"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\",\n              children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: cat.id,\n                children: cat.name\n              }, cat.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"category2\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: [\"Danh m\\u1EE5c c\\u1EA5p 2 \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"category2\",\n              name: \"category2\",\n              required: true,\n              value: product.category2,\n              onChange: handleChange,\n              className: \"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\",\n              children: getSubcategories(product.category).map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: cat.id,\n                children: cat.name\n              }, cat.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"category3\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: [\"Danh m\\u1EE5c c\\u1EA5p 3 \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"category3\",\n              name: \"category3\",\n              required: true,\n              value: product.category3,\n              onChange: handleChange,\n              className: \"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\",\n              children: getThirdCategories(product.category, product.category2).map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: cat.id,\n                children: cat.name\n              }, cat.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"description\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: [\"M\\xF4 t\\u1EA3 s\\u1EA3n ph\\u1EA9m \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"description\",\n              name: \"description\",\n              rows: 5,\n              required: true,\n              value: product.description,\n              onChange: handleChange,\n              className: \"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\",\n              placeholder: \"Nh\\u1EADp m\\xF4 t\\u1EA3 chi ti\\u1EBFt v\\u1EC1 s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-t border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"H\\xECnh \\u1EA3nh s\\u1EA3n ph\\u1EA9m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 mb-4 text-sm text-gray-500\",\n          children: \"Th\\xEAm URL h\\xECnh \\u1EA3nh \\u0111\\u1EC3 hi\\u1EC3n th\\u1ECB s\\u1EA3n ph\\u1EA9m (\\xEDt nh\\u1EA5t 1 h\\xECnh \\u1EA3nh).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: imageUrls.map((url, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: url,\n              onChange: e => handleImageUrlChange(index, e.target.value),\n              className: \"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\",\n              placeholder: \"Nh\\u1EADp URL h\\xECnh \\u1EA3nh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => removeImageUrl(index),\n              className: \"ml-2 p-1 text-red-500 hover:text-red-700\",\n              disabled: imageUrls.length === 1,\n              children: /*#__PURE__*/_jsxDEV(FiX, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: addImageUrl,\n          className: \"mt-3 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none\",\n          children: [/*#__PURE__*/_jsxDEV(FiPlus, {\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 13\n          }, this), \"Th\\xEAm URL h\\xECnh \\u1EA3nh\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 11\n        }, this), imageUrls.some(url => url.trim() !== '') && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-gray-700 mb-2\",\n            children: \"Xem tr\\u01B0\\u1EDBc h\\xECnh \\u1EA3nh:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\",\n            children: imageUrls.map((url, index) => url.trim() !== '' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative rounded-md overflow-hidden border border-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: url,\n                alt: `Preview ${index + 1}`,\n                className: \"w-full h-32 object-cover\",\n                onError: e => {\n                  e.target.onerror = null;\n                  e.target.src = 'https://via.placeholder.com/150?text=Image+Error';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 23\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 bg-gray-50 flex items-center justify-end\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/products\",\n          className: \"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none mr-3\",\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: submitting,\n          className: `inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary focus:outline-none ${submitting ? 'opacity-70 cursor-not-allowed' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(FiSave, {\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 13\n          }, this), submitting ? 'Đang lưu...' : isEditMode ? 'Cập nhật' : 'Lưu sản phẩm']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 262,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductForm, \"nf0eg+YdBIhZ9KW7eN1AlEI9Zx0=\", false, function () {\n  return [useParams, useNavigate, useAdminAuth];\n});\n_c = ProductForm;\nexport default ProductForm;\nvar _c;\n$RefreshReg$(_c, \"ProductForm\");","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","useNavigate","FiSave","FiArrowLeft","FiPlus","FiX","FiImage","axios","useAdminAuth","jsxDEV","_jsxDEV","ProductForm","_s","id","navigate","admin","isEditMode","loading","setLoading","submitting","setSubmitting","imageUrls","setImageUrls","error","setError","product","setProduct","title","description","price","sellingPrice","quantity","color","sizes","category","category2","category3","categories","name","getSubcategories","getThirdCategories","subcategory","fetchProductDetails","_productData$category","_productData$category2","_productData$category3","_productData$category4","_productData$category5","_productData$category6","response","get","headers","jwt","productData","data","mrpPrice","parentCategory","categoryId","images","console","handleChange","e","value","target","prev","handleImageUrlChange","index","updatedUrls","addImageUrl","removeImageUrl","splice","validateForm","trim","isNaN","Number","validImageUrls","filter","url","length","handleSubmit","preventDefault","put","post","status","alert","_error$response","_error$response$data","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","onSubmit","htmlFor","type","required","onChange","placeholder","min","map","cat","rows","onClick","disabled","size","some","src","alt","onError","onerror","_c","$RefreshReg$"],"sources":["C:/Users/PHT/OneDrive/laptrinhungdungnangcao/gk/frontend_shop-web-master/frontend_shop-web-master/src/pages/admin/ProductForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport { FiSave, FiArrowLeft, FiPlus, FiX, FiImage } from 'react-icons/fi';\nimport axios from 'axios';\nimport { useAdminAuth } from '../../contexts/AdminAuthContext';\n\nconst ProductForm = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { admin } = useAdminAuth();\n  const isEditMode = !!id;\n  const [loading, setLoading] = useState(isEditMode);\n  const [submitting, setSubmitting] = useState(false);\n  const [imageUrls, setImageUrls] = useState(['']);\n  const [error, setError] = useState('');\n  \n  const [product, setProduct] = useState({\n    title: '',\n    description: '',\n    price: '',\n    sellingPrice: '',\n    quantity: '',\n    color: '',\n    sizes: 'M, L',\n    category: 'men',\n    category2: 'bottom_were',\n    category3: 'men_shirt'\n  });\n\n  // Danh sách danh mục cấp 1\n  const categories = [\n    { id: 'men', name: 'Nam' },\n    { id: 'women', name: 'Nữ' },\n    { id: 'kids', name: 'Trẻ em' },\n    { id: 'accessories', name: 'Phụ kiện' }\n  ];\n\n  // Danh mục cấp 2 dựa trên danh mục cấp 1\n  const getSubcategories = (category) => {\n    switch (category) {\n      case 'men':\n        return [\n          { id: 'bottom_were', name: 'Quần' },\n          { id: 'top_were', name: 'Áo' },\n          { id: 'footwear', name: 'Giày dép' }\n        ];\n      case 'women':\n        return [\n          { id: 'saree', name: 'Váy dài' },\n          { id: 'top_were', name: 'Áo' },\n          { id: 'bottom_were', name: 'Quần' },\n          { id: 'footwear', name: 'Giày dép' }\n        ];\n      case 'kids':\n        return [\n          { id: 'top_were', name: 'Áo' },\n          { id: 'bottom_were', name: 'Quần' }\n        ];\n      case 'accessories':\n        return [\n          { id: 'watches', name: 'Đồng hồ' },\n          { id: 'bags', name: 'Túi xách' }\n        ];\n      default:\n        return [];\n    }\n  };\n\n  // Danh mục cấp 3 dựa trên danh mục cấp 2\n  const getThirdCategories = (category, subcategory) => {\n    if (category === 'men' && subcategory === 'top_were') {\n      return [\n        { id: 'men_shirt', name: 'Áo sơ mi' },\n        { id: 'men_tshirt', name: 'Áo thun' }\n      ];\n    }\n    if (category === 'men' && subcategory === 'bottom_were') {\n      return [\n        { id: 'men_jeans', name: 'Quần jeans' },\n        { id: 'men_trousers', name: 'Quần vải' },\n        { id: 'men_shirt', name: 'Áo sơ mi' }\n      ];\n    }\n    if (category === 'women' && subcategory === 'top_were') {\n      return [\n        { id: 'women_shirt', name: 'Áo sơ mi' },\n        { id: 'women_tshirt', name: 'Áo thun' }\n      ];\n    }\n    return [];\n  };\n\n  useEffect(() => {\n    if (isEditMode) {\n      fetchProductDetails();\n    }\n  }, [id, isEditMode]);\n\n  const fetchProductDetails = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(`http://localhost:8080/api/sellers/products/${id}`, {\n        headers: {\n          'Authorization': `Bearer ${admin?.jwt}`\n        }\n      });\n      \n      const productData = response.data;\n      \n      setProduct({\n        title: productData.title || '',\n        description: productData.description || '',\n        mrpPrice: productData.price || '',\n        sellingPrice: productData.sellingPrice || '',\n        quantity: productData.quantity || '',\n        color: productData.color || '',\n        sizes: productData.sizes || '',\n        category: productData.category?.parentCategory?.parentCategory?.categoryId || 'men',\n        category2: productData.category?.parentCategory?.categoryId || 'bottom_were',\n        category3: productData.category?.categoryId || 'men_shirt'\n      });\n      \n      setImageUrls(productData.images || ['']);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching product details:', error);\n      setError('Không thể tải thông tin sản phẩm. Vui lòng thử lại sau.');\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setProduct(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleImageUrlChange = (index, value) => {\n    const updatedUrls = [...imageUrls];\n    updatedUrls[index] = value;\n    setImageUrls(updatedUrls);\n  };\n\n  const addImageUrl = () => {\n    setImageUrls([...imageUrls, '']);\n  };\n\n  const removeImageUrl = (index) => {\n    const updatedUrls = [...imageUrls];\n    updatedUrls.splice(index, 1);\n    setImageUrls(updatedUrls);\n  };\n\n  const validateForm = () => {\n    if (!product.title.trim()) {\n      setError('Vui lòng nhập tên sản phẩm');\n      return false;\n    }\n    \n    if (!product.description.trim()) {\n      setError('Vui lòng nhập mô tả sản phẩm');\n      return false;\n    }\n    \n    if (!product.mrpPrice || isNaN(product.mrpPrice) || Number(product.mrpPrice) <= 0) {\n      setError('Vui lòng nhập giá gốc hợp lệ');\n      return false;\n    }\n    \n    if (!product.sellingPrice || isNaN(product.sellingPrice) || Number(product.sellingPrice) <= 0) {\n      setError('Vui lòng nhập giá bán hợp lệ');\n      return false;\n    }\n    \n    if (!product.quantity || isNaN(product.quantity) || Number(product.quantity) < 0) {\n      setError('Vui lòng nhập số lượng hợp lệ');\n      return false;\n    }\n    \n    if (!product.color.trim()) {\n      setError('Vui lòng nhập màu sắc sản phẩm');\n      return false;\n    }\n    \n    // Kiểm tra ít nhất có một URL hình ảnh hợp lệ\n    const validImageUrls = imageUrls.filter(url => url.trim() !== '');\n    if (validImageUrls.length === 0) {\n      setError('Vui lòng thêm ít nhất một hình ảnh sản phẩm');\n      return false;\n    }\n    \n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    \n    if (!validateForm()) {\n      return;\n    }\n    \n    setSubmitting(true);\n    \n    try {\n      // Lọc bỏ các URL hình ảnh trống\n      const validImageUrls = imageUrls.filter(url => url.trim() !== '');\n      \n      const productData = {\n        title: product.title,\n        description: product.description,\n        mrpPrice: Number(product.mrpPrice),\n        sellingPrice: Number(product.sellingPrice),\n        quantity: Number(product.quantity),\n        color: product.color,\n        images: validImageUrls,\n        category: product.category,\n        category2: product.category2,\n        category3: product.category3,\n        sizes: product.sizes\n      };\n      \n      let response;\n      \n      if (isEditMode) {\n        response = await axios.put(`http://localhost:8080/api/sellers/products/${id}`, productData, {\n          headers: {\n            'Authorization': `Bearer ${admin?.jwt}`,\n            'Content-Type': 'application/json'\n          }\n        });\n      } else {\n        response = await axios.post('http://localhost:8080/api/sellers/products', productData, {\n          headers: {\n            'Authorization': `Bearer ${admin?.jwt}`,\n            'Content-Type': 'application/json'\n          }\n        });\n      }\n      \n      if (response.status === 200 || response.status === 201) {\n        alert(`Sản phẩm đã được ${isEditMode ? 'cập nhật' : 'thêm'} thành công!`);\n        navigate('/admin/products');\n      }\n    } catch (error) {\n      console.error('Error submitting form:', error);\n      setError(error.response?.data?.message || 'Đã xảy ra lỗi khi lưu sản phẩm. Vui lòng thử lại sau.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"></div>\n        <span className=\"ml-3\">Đang tải...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"px-4 sm:px-6 lg:px-8\">\n      <div className=\"sm:flex sm:items-center sm:justify-between mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">\n          {isEditMode ? 'Chỉnh sửa sản phẩm' : 'Thêm sản phẩm mới'}\n        </h1>\n        <div className=\"mt-3 sm:mt-0\">\n          <Link\n            to=\"/admin/products\"\n            className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none\"\n          >\n            <FiArrowLeft className=\"mr-2\" />\n            Quay lại\n          </Link>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded relative\">\n          {error}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit} className=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div className=\"p-6 border-b border-gray-200\">\n          <h2 className=\"text-lg font-medium text-gray-900\">Thông tin cơ bản</h2>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Thông tin cơ bản về sản phẩm.\n          </p>\n        </div>\n\n        <div className=\"p-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6\">\n          {/* Tên sản phẩm */}\n          <div className=\"sm:col-span-4\">\n            <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700\">\n              Tên sản phẩm <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"mt-1\">\n              <input\n                type=\"text\"\n                name=\"title\"\n                id=\"title\"\n                required\n                value={product.title}\n                onChange={handleChange}\n                className=\"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\"\n                placeholder=\"Nhập tên sản phẩm\"\n              />\n            </div>\n          </div>\n\n          {/* Giá gốc */}\n          <div className=\"sm:col-span-3\">\n            <label htmlFor=\"mrpPrice\" className=\"block text-sm font-medium text-gray-700\">\n              Giá gốc <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"mt-1 relative rounded-md shadow-sm\">\n              <input\n                type=\"number\"\n                name=\"mrpPrice\"\n                id=\"mrpPrice\"\n                required\n                min=\"0\"\n                value={product.mrpPrice}\n                onChange={handleChange}\n                className=\"focus:ring-primary focus:border-primary block w-full pr-12 sm:text-sm border-gray-300 rounded-md\"\n                placeholder=\"0\"\n              />\n              <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\n                <span className=\"text-gray-500 sm:text-sm\">VNĐ</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Giá bán */}\n          <div className=\"sm:col-span-3\">\n            <label htmlFor=\"sellingPrice\" className=\"block text-sm font-medium text-gray-700\">\n              Giá bán <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"mt-1 relative rounded-md shadow-sm\">\n              <input\n                type=\"number\"\n                name=\"sellingPrice\"\n                id=\"sellingPrice\"\n                required\n                min=\"0\"\n                value={product.sellingPrice}\n                onChange={handleChange}\n                className=\"focus:ring-primary focus:border-primary block w-full pr-12 sm:text-sm border-gray-300 rounded-md\"\n                placeholder=\"0\"\n              />\n              <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\n                <span className=\"text-gray-500 sm:text-sm\">VNĐ</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Số lượng */}\n          <div className=\"sm:col-span-2\">\n            <label htmlFor=\"quantity\" className=\"block text-sm font-medium text-gray-700\">\n              Số lượng <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"mt-1\">\n              <input\n                type=\"number\"\n                name=\"quantity\"\n                id=\"quantity\"\n                required\n                min=\"0\"\n                value={product.quantity}\n                onChange={handleChange}\n                className=\"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\"\n                placeholder=\"0\"\n              />\n            </div>\n          </div>\n\n          {/* Màu sắc */}\n          <div className=\"sm:col-span-2\">\n            <label htmlFor=\"color\" className=\"block text-sm font-medium text-gray-700\">\n              Màu sắc <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"mt-1\">\n              <input\n                type=\"text\"\n                name=\"color\"\n                id=\"color\"\n                required\n                value={product.color}\n                onChange={handleChange}\n                className=\"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\"\n                placeholder=\"Đen, Trắng, Đỏ,...\"\n              />\n            </div>\n          </div>\n\n          {/* Kích thước */}\n          <div className=\"sm:col-span-2\">\n            <label htmlFor=\"sizes\" className=\"block text-sm font-medium text-gray-700\">\n              Kích thước <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"mt-1\">\n              <input\n                type=\"text\"\n                name=\"sizes\"\n                id=\"sizes\"\n                required\n                value={product.sizes}\n                onChange={handleChange}\n                className=\"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\"\n                placeholder=\"S, M, L, XL\"\n              />\n            </div>\n          </div>\n\n          {/* Danh mục cấp 1 */}\n          <div className=\"sm:col-span-2\">\n            <label htmlFor=\"category\" className=\"block text-sm font-medium text-gray-700\">\n              Danh mục cấp 1 <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"mt-1\">\n              <select\n                id=\"category\"\n                name=\"category\"\n                required\n                value={product.category}\n                onChange={handleChange}\n                className=\"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\"\n              >\n                {categories.map((cat) => (\n                  <option key={cat.id} value={cat.id}>{cat.name}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Danh mục cấp 2 */}\n          <div className=\"sm:col-span-2\">\n            <label htmlFor=\"category2\" className=\"block text-sm font-medium text-gray-700\">\n              Danh mục cấp 2 <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"mt-1\">\n              <select\n                id=\"category2\"\n                name=\"category2\"\n                required\n                value={product.category2}\n                onChange={handleChange}\n                className=\"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\"\n              >\n                {getSubcategories(product.category).map((cat) => (\n                  <option key={cat.id} value={cat.id}>{cat.name}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Danh mục cấp 3 */}\n          <div className=\"sm:col-span-2\">\n            <label htmlFor=\"category3\" className=\"block text-sm font-medium text-gray-700\">\n              Danh mục cấp 3 <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"mt-1\">\n              <select\n                id=\"category3\"\n                name=\"category3\"\n                required\n                value={product.category3}\n                onChange={handleChange}\n                className=\"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\"\n              >\n                {getThirdCategories(product.category, product.category2).map((cat) => (\n                  <option key={cat.id} value={cat.id}>{cat.name}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Mô tả */}\n          <div className=\"sm:col-span-6\">\n            <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700\">\n              Mô tả sản phẩm <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"mt-1\">\n              <textarea\n                id=\"description\"\n                name=\"description\"\n                rows={5}\n                required\n                value={product.description}\n                onChange={handleChange}\n                className=\"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\"\n                placeholder=\"Nhập mô tả chi tiết về sản phẩm\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Hình ảnh sản phẩm */}\n        <div className=\"p-6 border-t border-gray-200\">\n          <h2 className=\"text-lg font-medium text-gray-900\">Hình ảnh sản phẩm</h2>\n          <p className=\"mt-1 mb-4 text-sm text-gray-500\">\n            Thêm URL hình ảnh để hiển thị sản phẩm (ít nhất 1 hình ảnh).\n          </p>\n          \n          <div className=\"space-y-3\">\n            {imageUrls.map((url, index) => (\n              <div key={index} className=\"flex items-center\">\n                <input\n                  type=\"text\"\n                  value={url}\n                  onChange={(e) => handleImageUrlChange(index, e.target.value)}\n                  className=\"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md\"\n                  placeholder=\"Nhập URL hình ảnh\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => removeImageUrl(index)}\n                  className=\"ml-2 p-1 text-red-500 hover:text-red-700\"\n                  disabled={imageUrls.length === 1}\n                >\n                  <FiX size={18} />\n                </button>\n              </div>\n            ))}\n          </div>\n          \n          <button\n            type=\"button\"\n            onClick={addImageUrl}\n            className=\"mt-3 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none\"\n          >\n            <FiPlus className=\"mr-2\" />\n            Thêm URL hình ảnh\n          </button>\n          \n          {/* Preview hình ảnh */}\n          {imageUrls.some(url => url.trim() !== '') && (\n            <div className=\"mt-4\">\n              <h3 className=\"text-sm font-medium text-gray-700 mb-2\">Xem trước hình ảnh:</h3>\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\n                {imageUrls.map((url, index) => (\n                  url.trim() !== '' && (\n                    <div key={index} className=\"relative rounded-md overflow-hidden border border-gray-200\">\n                      <img \n                        src={url} \n                        alt={`Preview ${index + 1}`}\n                        className=\"w-full h-32 object-cover\"\n                        onError={(e) => {\n                          e.target.onerror = null;\n                          e.target.src = 'https://via.placeholder.com/150?text=Image+Error';\n                        }}\n                      />\n                    </div>\n                  )\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Form actions */}\n        <div className=\"px-6 py-4 bg-gray-50 flex items-center justify-end\">\n          <Link\n            to=\"/admin/products\"\n            className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none mr-3\"\n          >\n            Hủy\n          </Link>\n          <button\n            type=\"submit\"\n            disabled={submitting}\n            className={`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary focus:outline-none ${\n              submitting ? 'opacity-70 cursor-not-allowed' : ''\n            }`}\n          >\n            <FiSave className=\"mr-2\" />\n            {submitting ? 'Đang lưu...' : (isEditMode ? 'Cập nhật' : 'Lưu sản phẩm')}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default ProductForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}